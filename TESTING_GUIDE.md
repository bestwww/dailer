# üìû **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∑–≤–æ–Ω–∫–æ–≤ Dailer**

## üéØ **–ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:**

### ‚úÖ **–ê—É–¥–∏–æ—Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω:**
- **–§–∞–π–ª:** `audio/example_1.mp3` (494KB, MP3, 64kbps, 44.1kHz, —Å—Ç–µ—Ä–µ–æ)
- **–°—Ç–∞—Ç—É—Å:** –ó–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚úÖ

### ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:**
- **1204** - –∏–º–∏—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ —á–µ–ª–æ–≤–µ–∫–∞ (–∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω) 
- **1205** - –∏–º–∏—Ç–∞—Ü–∏—è –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫–∞
- **1206** - –∏–º–∏—Ç–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞

### ‚úÖ **–†–µ–∞–ª—å–Ω—ã–µ –∑–≤–æ–Ω–∫–∏:**
- **79206054020** - –≤–∞—à –Ω–æ–º–µ—Ä (—á–µ—Ä–µ–∑ SIP-—Ç—Ä–∞–Ω–∫)
- **–õ—é–±–æ–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –Ω–æ–º–µ—Ä** - —á–µ—Ä–µ–∑ SIP-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

---

## üöÄ **–ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**

### **–ú–µ—Ç–æ–¥ 1: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

```bash
# –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ—Å—Ç–µ—Ä–∞
./test-calls.sh
```

**–ú–µ–Ω—é —Ç–µ—Å—Ç–µ—Ä–∞:**
```
üìû === –ú–ï–ù–Æ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –ó–í–û–ù–ö–û–í ===

–ë–ï–ó–û–ü–ê–°–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –Ω–æ–º–µ—Ä–∞):
  1) –¢–µ—Å—Ç 1204 - –∏–º–∏—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ —á–µ–ª–æ–≤–µ–∫–∞ (–∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω)
  2) –¢–µ—Å—Ç 1205 - –∏–º–∏—Ç–∞—Ü–∏—è –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫–∞  
  3) –¢–µ—Å—Ç 1206 - –∏–º–∏—Ç–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞

–†–ï–ê–õ–¨–ù–´–ï –ó–í–û–ù–ö–ò (—á–µ—Ä–µ–∑ SIP-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞):
  4) –ó–≤–æ–Ω–æ–∫ –Ω–∞ 79206054020 (–≤–∞—à –Ω–æ–º–µ—Ä)
  5) –ó–≤–æ–Ω–æ–∫ –Ω–∞ –¥—Ä—É–≥–æ–π –Ω–æ–º–µ—Ä (–≤–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é)

–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê:
  6) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å FreeSWITCH
  7) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SIP-—Ç—Ä–∞–Ω–∫
  8) –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ FreeSWITCH
  9) –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—É–¥–∏–æ—Ñ–∞–π–ª example_1.mp3

  0) –í—ã—Ö–æ–¥
```

### **–ú–µ—Ç–æ–¥ 2: –†—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å FreeSWITCH
docker ps | grep freeswitch
docker exec $(docker ps | grep freeswitch | awk '{print $1}') fs_cli -x "status"

# 2. –¢–µ—Å—Ç–æ–≤—ã–µ –∑–≤–æ–Ω–∫–∏ (–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ)
docker exec $(docker ps | grep freeswitch | awk '{print $1}') fs_cli -x "originate user/1204 &echo"
docker exec $(docker ps | grep freeswitch | awk '{print $1}') fs_cli -x "originate user/1205 &echo"
docker exec $(docker ps | grep freeswitch | awk '{print $1}') fs_cli -x "originate user/1206 &echo"

# 3. –†–ï–ê–õ–¨–ù–´–ô –∑–≤–æ–Ω–æ–∫ –Ω–∞ –≤–∞—à –Ω–æ–º–µ—Ä (–û–°–¢–û–†–û–ñ–ù–û!)
docker exec $(docker ps | grep freeswitch | awk '{print $1}') fs_cli -x "originate sofia/gateway/sip_trunk/79206054020 &echo"

# 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
docker logs -f $(docker ps | grep freeswitch | awk '{print $1}')
```

---

## üîç **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Ç–µ—Å—Ç–∞—Ö:**

### **üì± –¢–µ—Å—Ç 1204 (–∏–º–∏—Ç–∞—Ü–∏—è —á–µ–ª–æ–≤–µ–∫–∞):**
```
‚úÖ –ù–æ–º–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
‚úÖ –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è —Ç–æ–Ω–∞–ª—å–Ω—ã–π —Å–∏–≥–Ω–∞–ª
‚úÖ –ò–º–∏—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞–∂–∞—Ç–∏–µ "1" (–∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω)
‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ: dialer::test_call_success
‚úÖ –ó–≤–æ–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
```

### **ü§ñ –¢–µ—Å—Ç 1205 (–∏–º–∏—Ç–∞—Ü–∏—è –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫–∞):**
```
‚úÖ –ù–æ–º–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
‚úÖ –ü—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–∞–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫)
‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ: dialer::test_call_machine
‚úÖ –ó–≤–æ–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è (–∞–≤—Ç–æ–æ—Ç–≤–µ—Ç—á–∏–∫ –æ–±–Ω–∞—Ä—É–∂–µ–Ω)
```

### **‚ùå –¢–µ—Å—Ç 1206 (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–π –Ω–æ–º–µ—Ä):**
```
‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥
‚ùå –ù–æ–º–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ: dialer::test_call_failed
‚ùå –ó–≤–æ–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å NO_ANSWER
```

### **‚òéÔ∏è –¢–µ—Å—Ç 79206054020 (—Ä–µ–∞–ª—å–Ω—ã–π –∑–≤–æ–Ω–æ–∫):**
```
‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π –∑–≤–æ–Ω–æ–∫!
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SIP-—Ç—Ä–∞–Ω–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
‚úÖ CallerID: 79058615815 (Dailer_Test)
üì± –ó–≤–æ–Ω–æ–∫ –ø–æ—Å—Ç—É–ø–∞–µ—Ç –Ω–∞ –≤–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω
‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ: dialer::real_test_call
```

---

## üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

### **–õ–æ–≥–∏ FreeSWITCH:**
```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏
docker logs --tail 50 $(docker ps | grep freeswitch | awk '{print $1}')

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs -f $(docker ps | grep freeswitch | awk '{print $1}')
```

### **–°—Ç–∞—Ç—É—Å SIP-—Ç—Ä–∞–Ω–∫–∞:**
```bash
# –°—Ç–∞—Ç—É—Å Sofia –ø—Ä–æ—Ñ–∏–ª–µ–π
docker exec $(docker ps | grep freeswitch | awk '{print $1}') fs_cli -x "sofia status"

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ gateway
docker exec $(docker ps | grep freeswitch | awk '{print $1}') fs_cli -x "sofia status gateway sip_trunk"
```

### **Event Socket –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 8021
docker exec $(docker ps | grep freeswitch | awk '{print $1}') nc -z 127.0.0.1 8021
echo $? # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0 (—É—Å–ø–µ—Ö)
```

---

## üéµ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞:**

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:**
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
ls -la audio/example_1.mp3
file audio/example_1.mp3

# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ FreeSWITCH (–µ—Å–ª–∏ —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω)
docker exec $(docker ps | grep freeswitch | awk '{print $1}') ls -la /usr/local/freeswitch/sounds/custom/
```

### **–¢–µ—Å—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:**
```bash
# –¢–µ—Å—Ç —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (–æ–ø—Ü–∏—è 9)
./test-calls.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
docker exec $(docker ps | grep freeswitch | awk '{print $1}') fs_cli -x "originate loopback/1204 &playback(/path/to/example_1.mp3)"
```

---

## ‚ö†Ô∏è **–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:**

### **üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- **–¢–µ—Å—Ç–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞ (1204-1206)** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–Ω—ã, –Ω–µ —Ç—Ä–∞—Ç—è—Ç –¥–µ–Ω—å–≥–∏
- **–†–µ–∞–ª—å–Ω—ã–µ –∑–≤–æ–Ω–∫–∏** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç SIP-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –º–æ–≥—É—Ç —Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å—Å—è
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** - —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤

### **üí∞ –¢–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ç–µ—Å—Ç—ã** - –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- **–†–µ–∞–ª—å–Ω—ã–π –∑–≤–æ–Ω–æ–∫ –Ω–∞ 79206054020** - —Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–≤–æ–Ω–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã 30 —Å–µ–∫—É–Ω–¥–∞–º–∏

### **üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **Docker** - FreeSWITCH –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω
- **–°–µ—Ç—å** - –¥–æ—Å—Ç—É–ø –∫ SIP-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—É –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤
- **–ü–æ—Ä—Ç—ã** - 8021 (Event Socket), 5060 (SIP), 16384-16394 (RTP)

---

## üöÄ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**

### **1. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:**
```bash
# –ï—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ
docker compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker ps
```

### **2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
./test-calls.sh

# –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é 1, 2 –∏–ª–∏ 3 –¥–ª—è —Ç–µ—Å—Ç–æ–≤
```

### **3. –†–µ–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤–∞—à –Ω–æ–º–µ—Ä):**
```bash
# –í —Ç–æ–º –∂–µ —Å–∫—Ä–∏–ø—Ç–µ –≤—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é 4
# –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π –∑–≤–æ–Ω–æ–∫!
```

### **4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
```bash
# –û–ø—Ü–∏—è 8 –≤ —Å–∫—Ä–∏–ø—Ç–µ –∏–ª–∏ –≤—Ä—É—á–Ω—É—é:
docker logs -f $(docker ps | grep freeswitch | awk '{print $1}')
```

---

## üéØ **–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

### ‚úÖ **–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:**
- –¢–µ—Å—Ç–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞ –æ—Ç–≤–µ—á–∞—é—Ç —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ü–µ–Ω–∞—Ä–∏—é
- –°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –ª–æ–≥–∏ FreeSWITCH
- SIP-—Ç—Ä–∞–Ω–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "NOREG" –∏–ª–∏ "REGED"
- –†–µ–∞–ª—å–Ω—ã–µ –∑–≤–æ–Ω–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–∞ –≤–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω

### ‚ùå **–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:**
- **Event Socket –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 8021
- **SIP-—Ç—Ä–∞–Ω–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- **–ó–≤–æ–Ω–∫–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç** ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ FreeSWITCH

---

## üìû **–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!**

**–ù–∞—á–Ω–∏—Ç–µ —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (–æ–ø—Ü–∏–∏ 1-3), –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Ä–µ–∞–ª—å–Ω—ã–º –∑–≤–æ–Ω–∫–∞–º!** 