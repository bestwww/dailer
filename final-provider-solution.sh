#!/bin/bash

# üéØ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï: –†–ê–ë–û–¢–ê –° –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø–ú–ò –ü–†–û–í–ê–ô–î–ï–†–ê
# –ü—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¢–û–õ–¨–ö–û –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è FreeSWITCH

CONTAINER_NAME="freeswitch-test"
PHONE_NUMBER="79206054020"

echo "üéØ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï –î–õ–Ø –ü–†–û–í–ê–ô–î–ï–†–ê"
echo "==================================="
echo ""

echo "üìã –û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–´–ô –î–ò–ê–ì–ù–û–ó:"
echo "- ‚úÖ Echo —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ)"
echo "- ‚ùå Custom extensions –ù–ï —Ä–∞–±–æ—Ç–∞—é—Ç"
echo "- ‚ùå Bridge –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç"
echo "- ‚ùå Inline applications –ù–ï —Ä–∞–±–æ—Ç–∞—é—Ç"
echo "- üéØ –ü—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¢–û–õ–¨–ö–û –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
echo ""

# –≠–¢–ê–ü 1: –ü–æ–∏—Å–∫ –¥—Ä—É–≥–∏—Ö –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
echo "üìã –≠–¢–ê–ü 1: –ü–û–ò–°–ö –ü–û–î–î–ï–†–ñ–ò–í–ê–ï–ú–´–• –ü–†–ò–õ–û–ñ–ï–ù–ò–ô"
echo "========================================"

echo ""
echo "–¢–µ—Å—Ç–∏—Ä—É–µ–º –¥—Ä—É–≥–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è FreeSWITCH..."
echo ""

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
test_builtin_app() {
    local app_name="$1"
    local description="$2"
    
    echo "–¢–µ—Å—Ç: $app_name - $description"
    echo "$(printf '%.0s-' {1..40})"
    
    # –í—ã–ø–æ–ª–Ω—è–µ–º —Ç–µ—Å—Ç
    TEST_RESULT=$(docker exec "$CONTAINER_NAME" fs_cli -x "originate sofia/gateway/sip_trunk/$PHONE_NUMBER &$app_name" 2>&1)
    echo "–†–µ–∑—É–ª—å—Ç–∞—Ç: $TEST_RESULT"
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –æ—à–∏–±–∫–∏
    if echo "$TEST_RESULT" | grep -q "ERR"; then
        echo "‚ùå –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è"
        return 1
    else
        echo "‚úÖ –ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞, UUID —Å–æ–∑–¥–∞–Ω"
        
        sleep 5
        
        echo "‚ùì –ü–û–õ–£–ß–ò–õ–ò –õ–ò –ó–í–û–ù–û–ö –ù–ê –ú–û–ë–ò–õ–¨–ù–´–ô?"
        read -p "–í–≤–µ–¥–∏—Ç–µ –¥–∞/–Ω–µ—Ç: " PHONE_RESULT
        
        if [[ "$PHONE_RESULT" =~ ^[–î–¥Yy] ]]; then
            echo "üéâ –ü–†–ò–õ–û–ñ–ï–ù–ò–ï $app_name –†–ê–ë–û–¢–ê–ï–¢!"
            return 0
        else
            echo "‚ùå –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç (–∑–≤–æ–Ω–æ–∫ –Ω–µ –ø—Ä–∏—à–µ–ª)"
            return 1
        fi
    fi
}

echo ""
echo "üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:"
echo ""

# –°–ø–∏—Å–æ–∫ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
WORKING_APPS=()

# 1. Echo (—É–∂–µ –∑–Ω–∞–µ–º —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
echo "1. Echo (—É–∂–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ):"
echo "‚úÖ &echo - —Ä–∞–±–æ—Ç–∞–µ—Ç"
WORKING_APPS+=("echo")

echo ""

# 2. Park (–ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –æ–∂–∏–¥–∞–Ω–∏–µ)
test_builtin_app "park" "–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –æ–∂–∏–¥–∞–Ω–∏–µ"
if [ $? -eq 0 ]; then
    WORKING_APPS+=("park")
fi

echo ""

# 3. Hold (—É–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–≤–æ–Ω–∫–∞)
test_builtin_app "hold" "–£–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–≤–æ–Ω–∫–∞"
if [ $? -eq 0 ]; then
    WORKING_APPS+=("hold")
fi

echo ""

# 4. Pre_answer (–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç)
test_builtin_app "pre_answer" "–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç"
if [ $? -eq 0 ]; then
    WORKING_APPS+=("pre_answer")
fi

echo ""

# 5. Ring_ready (—Å–∏–≥–Ω–∞–ª –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
test_builtin_app "ring_ready" "–°–∏–≥–Ω–∞–ª –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏"
if [ $? -eq 0 ]; then
    WORKING_APPS+=("ring_ready")
fi

# –≠–¢–ê–ü 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ IVR —Ä–µ—à–µ–Ω–∏—è
echo ""
echo "üìã –≠–¢–ê–ü 2: –°–û–ó–î–ê–ù–ò–ï –†–ê–ë–û–ß–ï–ì–û –†–ï–®–ï–ù–ò–Ø"
echo "=================================="

echo ""
echo "üéØ –ù–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–µ–º IVR —Ä–µ—à–µ–Ω–∏–µ..."

if [ ${#WORKING_APPS[@]} -gt 1 ]; then
    echo ""
    echo "‚úÖ –ù–∞–π–¥–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: ${WORKING_APPS[*]}"
    echo ""
    echo "üîß –°–û–ó–î–ê–ï–ú –ö–û–ú–ë–ò–ù–ò–†–û–í–ê–ù–ù–´–ô IVR:"
    
    # –°–æ–∑–¥–∞–µ–º —Å–∫—Ä–∏–ø—Ç —Å —Ä–∞–±–æ—á–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
    cat > /tmp/working_ivr_commands.txt << EOF
# üéØ –†–ê–ë–û–ß–ò–ï –ö–û–ú–ê–ù–î–´ –î–õ–Ø IVR (—Ç–æ–ª—å–∫–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

# –ë–∞–∑–æ–≤—ã–π —ç—Ö–æ —Ç–µ—Å—Ç:
docker exec $CONTAINER_NAME fs_cli -x "originate sofia/gateway/sip_trunk/$PHONE_NUMBER &echo"

EOF

    # –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    for app in "${WORKING_APPS[@]}"; do
        if [ "$app" != "echo" ]; then
            echo "# $app –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:" >> /tmp/working_ivr_commands.txt
            echo "docker exec $CONTAINER_NAME fs_cli -x \"originate sofia/gateway/sip_trunk/$PHONE_NUMBER &$app\"" >> /tmp/working_ivr_commands.txt
            echo "" >> /tmp/working_ivr_commands.txt
        fi
    done
    
    echo "‚úÖ –§–∞–π–ª –∫–æ–º–∞–Ω–¥ —Å–æ–∑–¥–∞–Ω: /tmp/working_ivr_commands.txt"
    
else
    echo "‚ùå –¢–æ–ª—å–∫–æ echo —Ä–∞–±–æ—Ç–∞–µ—Ç"
fi

# –≠–¢–ê–ü 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend
echo ""
echo "üìã –≠–¢–ê–ü 3: –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° BACKEND"
echo "============================"

echo ""
echo "üîß –†–ï–®–ï–ù–ò–ï –î–õ–Ø BACKEND –ò–ù–¢–ï–ì–†–ê–¶–ò–ò:"
echo ""

cat > /tmp/backend_integration.md << 'EOF'
# üéØ BACKEND –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø–ú–ò –ü–†–û–í–ê–ô–î–ï–†–ê

## üìã –ü–†–û–ë–õ–ï–ú–ê:
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¢–û–õ–¨–ö–û –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è FreeSWITCH
- Custom extensions, IVR —Å–∫—Ä–∏–ø—Ç—ã, inline applications –ù–ï —Ä–∞–±–æ—Ç–∞—é—Ç
- –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è IVR —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## ‚úÖ –†–ê–ë–û–ß–ò–ï –†–ï–®–ï–ù–ò–Ø:

### 1. üéµ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –¢–û–õ–¨–ö–û ECHO
```javascript
// –í backend –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–≤–æ–Ω–∫–æ–≤:
const testCall = await freeswitch.originate(
    `sofia/gateway/sip_trunk/${phoneNumber}`,
    '&echo'
);
```

### 2. üîÑ –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–´–ï –ó–í–û–ù–ö–ò
```javascript
// –í–º–µ—Å—Ç–æ IVR - –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–≤–æ–Ω–∫–æ–≤:
async function simulateIVR(phoneNumber) {
    // –ó–≤–æ–Ω–æ–∫ 1: –ö–æ—Ä–æ—Ç–∫–∏–π —Å–∏–≥–Ω–∞–ª
    await freeswitch.originate(`sofia/gateway/sip_trunk/${phoneNumber}`, '&echo');
    await sleep(2000);
    
    // –ó–≤–æ–Ω–æ–∫ 2: –î–ª–∏–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª  
    await freeswitch.originate(`sofia/gateway/sip_trunk/${phoneNumber}`, '&echo');
    await sleep(5000);
    
    // –ó–≤–æ–Ω–æ–∫ 3: –§–∏–Ω–∞–ª—å–Ω—ã–π
    await freeswitch.originate(`sofia/gateway/sip_trunk/${phoneNumber}`, '&echo');
}
```

### 3. üìû –ü–†–Ø–ú–´–ï –ó–í–û–ù–ö–ò –ë–ï–ó IVR
```javascript
// –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –±–µ–∑ IVR:
async function makeCampaignCall(contact, campaign) {
    const result = await freeswitch.originate(
        `sofia/gateway/sip_trunk/${contact.phone}`,
        '&echo'  // –ü—Ä–æ—Å—Ç–æ –∑–≤–æ–Ω–æ–∫ –±–µ–∑ IVR
    );
    
    // –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ backend
    await recordCallResult(contact, result);
}
```

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:

1. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É**: –£–±—Ä–∞—Ç—å IVR, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ –∑–≤–æ–Ω–∫–∏
2. **Backend –ª–æ–≥–∏–∫–∞**: –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤—Å—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –ª–æ–≥–∏–∫—É –≤ backend
3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SMS/Email –≤–º–µ—Å—Ç–æ –≥–æ–ª–æ—Å–æ–≤—ã—Ö IVR
4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç –¥–æ–∑–≤–æ–Ω–∞ (echo —É—Å–ø–µ—à–µ–Ω = –∫–æ–Ω—Ç–∞–∫—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç)

## üìä –ò–ó–ú–ï–ù–ï–ù–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:

```
Backend ‚Üí FreeSWITCH ‚Üí –ü—Ä–æ–≤–∞–π–¥–µ—Ä ‚Üí –¢–µ–ª–µ—Ñ–æ–Ω
   ‚Üì           ‚Üì
Campaign     &echo
Logic        Only
   ‚Üì
Database
```

–í–º–µ—Å—Ç–æ:
```
Backend ‚Üí FreeSWITCH ‚Üí IVR Menu ‚Üí –ü—Ä–æ–≤–∞–π–¥–µ—Ä ‚Üí –¢–µ–ª–µ—Ñ–æ–Ω
                         ‚Üì
                    (–ù–ï –†–ê–ë–û–¢–ê–ï–¢)
```
EOF

echo "‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∞: /tmp/backend_integration.md"

# –≠–¢–ê–ü 4: –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
echo ""
echo "üìã –≠–¢–ê–ü 4: –§–ò–ù–ê–õ–¨–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò"
echo "==============================="

echo ""
echo "üéØ –ò–¢–û–ì–û–í–û–ï –†–ï–®–ï–ù–ò–ï:"
echo ""

echo "1. üìû –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –ó–í–û–ù–ö–û–í:"
echo "   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ: docker exec $CONTAINER_NAME fs_cli -x \"originate sofia/gateway/sip_trunk/$PHONE_NUMBER &echo\""
echo "   - –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å–ø–æ—Å–æ–±"
echo ""

echo "2. üîß –î–õ–Ø BACKEND –ò–ù–¢–ï–ì–†–ê–¶–ò–ò:"
echo "   - –£–±–µ—Ä–∏—Ç–µ IVR –ª–æ–≥–∏–∫—É"
echo "   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ echo –∑–≤–æ–Ω–∫–∏"
echo "   - –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –≤—Å—é –ª–æ–≥–∏–∫—É –≤ backend"
echo ""

echo "3. üìä –î–õ–Ø –ö–ê–ú–ü–ê–ù–ò–ô:"
echo "   - –ó–≤–æ–Ω–æ–∫ = –ø—Ä–æ—Å—Ç–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"
echo "   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ = —Ñ–∞–∫—Ç –¥–æ–∑–≤–æ–Ω–∞"
echo "   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å = —á–µ—Ä–µ–∑ –¥—Ä—É–≥–∏–µ –∫–∞–Ω–∞–ª—ã (SMS, Email)"
echo ""

echo "4. üé≠ –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –ü–û–î–•–û–î–´:"
echo "   - –°–º–µ–Ω–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–µ—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ –Ω—É–∂–µ–Ω IVR)"
echo "   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö FreeSWITCH –º–æ–¥—É–ª–µ–π"
echo "   - –í–Ω–µ—à–Ω–∏–µ IVR —Å–∏—Å—Ç–µ–º—ã"

echo ""
echo "üìã –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ü–†–û–î–ê–ö–®–ï–ù–ê:"
echo "========================"

echo ""
echo "# –†–∞–±–æ—á–∏–π –∑–≤–æ–Ω–æ–∫:"
echo "docker exec $CONTAINER_NAME fs_cli -x \"originate sofia/gateway/sip_trunk/$PHONE_NUMBER &echo\""
echo ""
echo "# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:"
echo "docker exec $CONTAINER_NAME fs_cli -x \"sofia status gateway internal::sip_trunk\""
echo ""
echo "# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–≤–æ–Ω–∫–æ–≤:"
echo "docker exec $CONTAINER_NAME fs_cli -x \"show channels\""

echo ""
echo "üéâ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –ü–†–û–î–ê–ö–®–ï–ù–£!"
echo "==============================="

echo ""
echo "‚úÖ –ù–ê–°–¢–†–û–ô–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê:"
echo "- FreeSWITCH –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç"
echo "- SIP trunk –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É" 
echo "- Echo –∑–≤–æ–Ω–∫–∏ –¥–æ—Ö–æ–¥—è—Ç –¥–æ –º–æ–±–∏–ª—å–Ω–æ–≥–æ"
echo "- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤—ã—è–≤–ª–µ–Ω—ã –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã"
echo "- Backend –º–æ–∂–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å —Ä–∞–±–æ—á–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏"
echo ""

echo "üöÄ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–∞–º–ø–∞–Ω–∏–π —Å —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π!"

# –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–ø–ª–∞–Ω
echo ""
echo "üìã –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–∏–∞–ª–ø–ª–∞–Ω..."
docker exec "$CONTAINER_NAME" cp /usr/local/freeswitch/conf/dialplan/default.xml.backup /usr/local/freeswitch/conf/dialplan/default.xml 2>/dev/null || echo "–ë—ç–∫–∞–ø –Ω–µ –Ω–∞–π–¥–µ–Ω"
docker exec "$CONTAINER_NAME" fs_cli -x "reloadxml" > /dev/null 2>&1

echo "‚úÖ –î–∏–∞–ª–ø–ª–∞–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
echo ""
echo "üéØ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï –ì–û–¢–û–í–û!" 