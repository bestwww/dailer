# ‚ö° –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ FreeSWITCH –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ

## üéØ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!
–¢–µ–ø–µ—Ä—å –µ—Å—Ç—å **—É–º–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—é—Ç Docker –æ–±—Ä–∞–∑—ã –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤.

---

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (1-2 –º–∏–Ω—É—Ç—ã)

### –ù–∞ —Ç–µ—Å—Ç–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/dailer

# 2. –ü–æ–ª—É—á–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
git pull origin main

# 3. –°–Ω–∞—á–∞–ª–∞ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
./check-freeswitch-setup.sh

# 4. –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–ï–ó –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏
./update-config-only.sh
```

**üéâ –ì–æ—Ç–æ–≤–æ!** –í—Å–µ–≥–æ 1-2 –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ 15-30 –º–∏–Ω—É—Ç —Å–±–æ—Ä–∫–∏.

---

## üîç –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç update-config-only.sh

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä FreeSWITCH (–ª—é–±–æ–µ –∏–º—è)  
‚úÖ **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ FreeSWITCH** (–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç)  
‚úÖ **–û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** —Å –Ω–æ–≤—ã–º Caller ID: `79058615815`  
‚úÖ **–ó–∞–ø—É—Å–∫–∞–µ—Ç –ë–ï–ó build** –∫–æ–º–∞–Ω–¥  
‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  

---

## üõ†Ô∏è –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

### –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:

#### üîç **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
./check-freeswitch-setup.sh
```

#### üê≥ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ –æ–±—Ä–∞–∑–∞:**
```bash
# –°–∫–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑
docker pull signalwire/freeswitch:latest

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
docker compose -f docker-compose.no-build.yml up -d freeswitch
```

#### üîß **–†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
```bash
# –ù–∞–π—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä FreeSWITCH
docker ps -a | grep freeswitch

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥, –∑–∞–ø—É—Å—Ç–∏—Ç—å
docker stop –ö–û–ù–¢–ï–ô–ù–ï–†_–ù–ê–ó–í–ê–ù–ò–ï
git pull origin main
docker start –ö–û–ù–¢–ï–ô–ù–ï–†_–ù–ê–ó–í–ê–ù–ò–ï
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `./update-config-only.sh`:

- ‚úÖ **Caller ID –æ–±–Ω–æ–≤–ª–µ–Ω:** `79058615815`
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ PROTOCOL_ERROR**
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã:** `docker compose`
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:** —á–µ—Ä–µ–∑ `sofia/gateway/sip_trunk`
- ‚úÖ **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 1-2 –º–∏–Ω—É—Ç—ã
- ‚úÖ **–û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:** –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

---

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```bash
# –°—Ç–∞—Ç—É—Å FreeSWITCH
docker exec –ö–û–ù–¢–ï–ô–ù–ï–†_–ù–ê–ó–í–ê–ù–ò–ï fs_cli -x "status"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Caller ID
grep "79058615815" freeswitch/conf/dialplan/default.xml

# –¢–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫
docker exec –ö–û–ù–¢–ï–ô–ù–ï–†_–ù–ê–ó–í–ê–ù–ò–ï fs_cli -x "originate sofia/gateway/sip_trunk/79206054020 &echo"

# –õ–æ–≥–∏
docker logs -f –ö–û–ù–¢–ï–ô–ù–ï–†_–ù–ê–ó–í–ê–ù–ò–ï
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** `./deploy-to-test-server.sh` –Ω–∞ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö (–¥–æ–ª–≥–æ!)
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** `./update-config-only.sh` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ** —á—Ç–æ Caller ID `79058615815` —Ä–∞–∑—Ä–µ—à–µ–Ω —É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ** –ª–æ–≥–∏ –ø–µ—Ä–≤—ã–µ 10-15 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
git checkout HEAD~1 -- freeswitch/conf/

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å FreeSWITCH
docker restart –ö–û–ù–¢–ï–ô–ù–ï–†_–ù–ê–ó–í–ê–ù–ò–ï

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–Ω–æ–≤–æ
./fix-freeswitch-protocol-error.sh
```

---

**‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!** –¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ FreeSWITCH –∑–∞–Ω–∏–º–∞–µ—Ç 1-2 –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ 15-30 –º–∏–Ω—É—Ç.

**üìû Caller ID —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω:** `79058615815`  
**üîß PROTOCOL_ERROR –∏—Å–ø—Ä–∞–≤–ª–µ–Ω**  
**‚ö° –ë–ï–ó –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤** 